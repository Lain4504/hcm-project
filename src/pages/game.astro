---
import BaseLayout from '../layouts/BaseLayout.astro';
import rawQuiz from '../data/quiz.json';
import { Quiz } from '../components/Quiz';
import chuTichHoChiMinh from '../assets/chu-tich-ho-chi-minh.jpg';

const quizData = (rawQuiz as any[]).map((q, index) => ({
  id: index + 1,
  question: q.question,
  options: q.options,
  correctIndex: q.answer,
  explanation: q.explanation
}));
---

<BaseLayout title="Game HCM202 - Độc lập dân tộc và CNXH">
  <section class="relative overflow-hidden bg-gradient-to-b from-[#1a0000] via-[#210000] to-background text-[color:var(--vn-yellow-soft)] md:min-h-[420px]">
    <div class="pointer-events-none absolute inset-0">
      <!-- Background image -->
      <img 
        src={chuTichHoChiMinh.src}
        alt="Tuyên ngôn độc lập" 
        class="h-full w-full object-cover opacity-80"
      />
      <!-- Overlay để text dễ đọc -->
      <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/35 to-black/50" />
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_0,rgba(245,230,99,0.12),transparent_55%),radial-gradient(circle_at_80%_120%,rgba(139,26,26,0.4),transparent_60%)]" />
    </div>
    
    <div class="relative mx-auto max-w-6xl px-4 pb-16 pt-32 md:pb-24 md:pt-40">
      <div class="max-w-2xl">
        <p class="text-xs font-semibold uppercase tracking-[0.3em] text-[color:var(--vn-yellow-soft)]/90">
          Game tương tác
        </p>
        <h1 class="mt-3 text-3xl font-bold tracking-tight md:text-4xl">
          Tư tưởng Hồ Chí Minh về độc lập dân tộc và CNXH
        </h1>
        <p class="mt-3 max-w-xl text-sm text-[color:var(--vn-yellow-soft)]/90 md:text-base">
          Khám phá quan điểm của Hồ Chí Minh về mối quan hệ giữa độc lập dân tộc và chủ nghĩa xã hội. Liệu có mâu thuẫn
          giữa mục tiêu độc lập, tự chủ với việc thu hút mạnh mẽ đầu tư nước ngoài? Hãy tham gia thử thách và tìm hiểu!
        </p>
      </div>
    </div>
  </section>

  <section class="bg-background">
    <div class="mx-auto max-w-6xl px-4 py-10 md:py-14">
      <Quiz client:load questions={quizData as any} />
    </div>
  </section>
</BaseLayout>


