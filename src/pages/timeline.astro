---
import BaseLayout from '../layouts/BaseLayout.astro';
import { TimelineList } from '../components/TimelineList';
import data from '../data/timeline.json';
import chuTichHoChiMinhLamViec from '../assets/chu-tich-ho-chi-minh-lam-viec.jpg';
const raw = data as any[];
const entries = raw.map((item) => ({
  ...item,
  summary: item.short
}));
---

<BaseLayout title="HCM202 Timeline - Độc lập dân tộc và CNXH">
  <!-- Hero với nền ảnh background -->
  <section class="relative overflow-hidden text-slate-50">
    <div class="pointer-events-none absolute inset-0">
      <!-- Background image -->
      <img 
        src={chuTichHoChiMinhLamViec.src}
        alt="Tuyên ngôn độc lập" 
        class="h-full w-full object-cover opacity-80"
      />
      <!-- Overlay để text dễ đọc -->
      <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/35 to-black/50" />
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_0,rgba(245,230,99,0.12),transparent_55%),radial-gradient(circle_at_80%_120%,rgba(139,26,26,0.4),transparent_60%)]" />
    </div>

    <!-- Nội dung hero trên nền ảnh -->
    <div class="relative">
      <div class="mx-auto max-w-6xl px-4 pb-14 pt-28 md:pb-18">
        <div class="max-w-2xl space-y-4">
          <p class="text-xs font-semibold uppercase tracking-[0.32em] text-[color:var(--vn-yellow-soft)]/90">
            HCM202 · Dòng thời gian tư tưởng
          </p>
          <h1 class="text-3xl font-semibold tracking-tight text-[color:var(--vn-yellow-soft)] md:text-4xl">
            Hành trình tư tưởng Hồ Chí Minh
          </h1>
          <p class="max-w-xl text-sm text-slate-100/90 md:text-base">
            Từ năm 1911 Nguyễn Ái Quốc ra đi tìm đường cứu nước, tiếp xúc chủ nghĩa Mác – Lênin, lựa chọn con đường
            cách mạng vô sản, đến Tuyên ngôn độc lập 1945 và chiến lược độc lập gắn với chủ nghĩa xã hội và hội nhập
            quốc tế ngày nay.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Vùng timeline chính: nền màu giấy với họa tiết Việt Nam -->
  <section class="relative overflow-hidden bg-gradient-to-b from-amber-50 via-orange-50 to-amber-50">
    <div class="pointer-events-none absolute inset-0">
      <!-- Pattern nền giấy xưa -->
      <div class="absolute inset-0 opacity-[0.03] bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23000000" fill-opacity="1"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')]" />
      
      <!-- Màu cờ Việt Nam - Đỏ và Vàng -->
      <div class="absolute inset-0 bg-gradient-to-b from-red-50/30 via-yellow-50/20 to-red-50/30" />
      
      <!-- Họa tiết trang trí góc -->
      <div class="absolute top-0 left-0 w-64 h-64 opacity-10">
        <div class="absolute top-8 left-8 w-32 h-32 border-4 border-red-600/20 rounded-full" />
        <div class="absolute top-16 left-16 w-16 h-16 border-2 border-yellow-500/20 rounded-full" />
      </div>
      <div class="absolute bottom-0 right-0 w-64 h-64 opacity-10">
        <div class="absolute bottom-8 right-8 w-32 h-32 border-4 border-red-600/20 rounded-full" />
        <div class="absolute bottom-16 right-16 w-16 h-16 border-2 border-yellow-500/20 rounded-full" />
      </div>
      
      <!-- Họa tiết lá sen/hoa sen mờ -->
      <div class="absolute inset-0 opacity-5">
        <svg class="absolute top-20 right-10 w-40 h-40 text-red-600/20" viewBox="0 0 100 100" fill="currentColor">
          <path d="M50 20 Q30 40, 20 60 Q30 80, 50 80 Q70 80, 80 60 Q70 40, 50 20 M50 30 Q65 45, 70 60 Q65 75, 50 75 Q35 75, 30 60 Q35 45, 50 30" />
        </svg>
        <svg class="absolute bottom-20 left-10 w-32 h-32 text-yellow-600/15" viewBox="0 0 100 100" fill="currentColor">
          <path d="M50 20 Q30 40, 20 60 Q30 80, 50 80 Q70 80, 80 60 Q70 40, 50 20 M50 30 Q65 45, 70 60 Q65 75, 50 75 Q35 75, 30 60 Q35 45, 50 30" />
        </svg>
      </div>
      
      <!-- Đường kẻ trang trí nhẹ -->
      <div class="absolute top-0 left-1/2 -translate-x-1/2 w-px h-full bg-gradient-to-b from-transparent via-red-300/10 to-transparent" />
    </div>
    
    <div class="relative mx-auto max-w-6xl px-4 py-14 md:py-18">
      <TimelineList client:load entries={entries} />
    </div>
  </section>
</BaseLayout>

