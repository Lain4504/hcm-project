---
import BaseLayout from '../layouts/BaseLayout.astro';
import { TimelineList } from '../components/TimelineList';
import data from '../data/timeline.json';
import tuyenNgonDocLap from '../assets/tuyen-ngon-doc-lap.jpg';

const raw = data as any[];
const entries = raw.map((item) => ({
  ...item,
  summary: item.short
}));
---

<BaseLayout title="HCM202 Timeline - Độc lập dân tộc và CNXH">
  <!-- Hero với nền ảnh background -->
  <section class="relative overflow-hidden text-slate-50">
    <div class="pointer-events-none absolute inset-0">
      <!-- Background image -->
      <img 
        src={tuyenNgonDocLap.src} 
        alt="Tuyên ngôn độc lập" 
        class="h-full w-full object-cover opacity-80"
      />
      <!-- Overlay để text dễ đọc -->
      <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/35 to-black/50" />
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_0,rgba(245,230,99,0.12),transparent_55%),radial-gradient(circle_at_80%_120%,rgba(139,26,26,0.4),transparent_60%)]" />
    </div>

    <!-- Nội dung hero trên nền ảnh -->
    <div class="relative">
      <div class="mx-auto max-w-6xl px-4 pb-14 pt-28 md:pb-18">
        <div class="max-w-2xl space-y-4">
          <p class="text-xs font-semibold uppercase tracking-[0.32em] text-[color:var(--vn-yellow-soft)]/90">
            HCM202 · Dòng thời gian tư tưởng
          </p>
          <h1 class="text-3xl font-semibold tracking-tight text-[color:var(--vn-yellow-soft)] md:text-4xl">
            Hành trình tư tưởng Hồ Chí Minh
          </h1>
          <p class="max-w-xl text-sm text-slate-100/90 md:text-base">
            Từ năm 1911 Nguyễn Ái Quốc ra đi tìm đường cứu nước, tiếp xúc chủ nghĩa Mác – Lênin, lựa chọn con đường
            cách mạng vô sản, đến Tuyên ngôn độc lập 1945 và chiến lược độc lập gắn với chủ nghĩa xã hội và hội nhập
            quốc tế ngày nay.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Vùng timeline chính: nền background image -->
  <section class="relative overflow-hidden bg-[#1a0000]">
    <div class="pointer-events-none absolute inset-0">
      <!-- Background image -->
      <img 
        src={tuyenNgonDocLap.src} 
        alt="Tuyên ngôn độc lập" 
        class="h-full w-full object-cover opacity-80"
      />
      <!-- Overlay để timeline items dễ đọc -->
      <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/35 to-black/50" />
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_0_0,rgba(245,230,99,0.16),transparent_55%),radial-gradient(circle_at_100%_100%,rgba(139,26,26,0.65),transparent_60%),linear-gradient(to_bottom,#1a0000/80,#120000/70,#1a0000/90)]" />
    </div>
    
    <div class="relative mx-auto max-w-6xl px-4 py-14 md:py-18">
      <TimelineList client:load entries={entries} />
    </div>
  </section>
</BaseLayout>

