---
import BaseLayout from "../layouts/BaseLayout.astro";
import puzzles from "../data/puzzles.json";
---

<BaseLayout
  title="Puzzle xếp hình - Lịch sử Việt Nam"
  description="Mini-game puzzle xếp hình về lịch sử Việt Nam, chủ đề Chiến thắng Điện Biên Phủ."
>
  <section class="bg-background">
    <div class="mx-auto max-w-6xl px-4 py-10 md:py-14 space-y-8">
      <div class="space-y-2 text-center md:text-left">
        <p class="text-xs font-semibold uppercase tracking-[0.25em] text-[color:var(--vn-yellow-soft)]">
          Game HCM202 · Puzzle xếp hình
        </p>
        <h1 class="text-balance text-2xl font-bold leading-tight tracking-tight text-[color:var(--vn-red-soft)] sm:text-3xl md:text-4xl">
          Chọn puzzle lịch sử để trải nghiệm
        </h1>
        <p class="mx-auto max-w-2xl text-sm text-muted-foreground md:text-base">
          Mỗi puzzle là một bức ảnh gắn với một sự kiện lịch sử quan trọng. Hãy chọn một chủ đề để bắt đầu
          sắp xếp các mảnh ghép và khám phá câu chuyện phía sau bức hình.
        </p>
      </div>

      <div class="grid gap-6 md:grid-cols-3">
        {(puzzles as any[]).map((puzzle) => (
          <a
            href={`/puzzle/${puzzle.id}`}
            class="group flex flex-col overflow-hidden rounded-2xl border border-[color:var(--vn-red-soft)]/15 bg-[color:var(--card)] shadow-sm transition hover:-translate-y-1 hover:border-[color:var(--vn-red-soft)]/40 hover:shadow-[0_18px_40px_rgba(139,0,0,0.2)]"
          >
            <div class="relative h-40 overflow-hidden bg-[#260000]/40">
              <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_0,rgba(245,230,99,0.35),transparent_55%),radial-gradient(circle_at_80%_120%,rgba(139,26,26,0.7),transparent_60%)]" />
              <div class="relative flex h-full items-center justify-center text-center px-4">
                <p class="text-sm font-semibold text-[color:var(--vn-yellow-soft)] group-hover:text-[color:var(--vn-yellow)]">
                  {puzzle.title}
                </p>
              </div>
            </div>
            <div class="flex flex-1 flex-col gap-3 px-4 py-4 text-sm">
              <p class="line-clamp-3 text-muted-foreground">
                {puzzle.shortDescription}
              </p>
              <div class="mt-auto flex items-center justify-between text-xs text-[color:var(--vn-red-soft)]">
                <span class="rounded-full bg-[color:var(--secondary)] px-2 py-1 font-semibold">
                  Độ khó: {puzzle.difficulty}
                </span>
                <span class="inline-flex items-center gap-1 text-[color:var(--vn-red-soft)]/85 group-hover:text-[color:var(--vn-red-soft)]">
                  Chơi ngay
                  <span class="text-[0.7rem]">→</span>
                </span>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>


