---
import BaseLayout from "../layouts/BaseLayout.astro";
import puzzles from "../data/puzzles.json";
import hoChiMinh1 from "../assets/hcm1-16529275928651573705413-0-0-375-600-crop-16529276019091318892288.jpg";
---

<BaseLayout
  title="Puzzle xếp hình - Lịch sử Việt Nam"
  description="Mini-game puzzle xếp hình về lịch sử Việt Nam, chủ đề Chiến thắng Điện Biên Phủ."
>
  <!-- Hero section với background image -->
  <section class="relative overflow-hidden bg-gradient-to-b from-[#1a0000] via-[#210000] to-background text-[color:var(--vn-yellow-soft)] md:min-h-[420px]">
    <div class="pointer-events-none absolute inset-0">
      <!-- Background image -->
      <img 
        src={hoChiMinh1.src}
        alt="Tuyên ngôn độc lập" 
        class="h-full w-full object-cover opacity-80"
      />
      <!-- Overlay để text dễ đọc -->
      <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/35 to-black/50" />
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_0,rgba(245,230,99,0.12),transparent_55%),radial-gradient(circle_at_80%_120%,rgba(139,26,26,0.4),transparent_60%)]" />
    </div>
    
    <div class="relative mx-auto max-w-6xl px-4 pb-16 pt-32 md:pb-24 md:pt-40">
      <div class="max-w-2xl">
        <p class="text-xs font-semibold uppercase tracking-[0.3em] text-[color:var(--vn-yellow-soft)]/90">
          Game HCM202 · Puzzle xếp hình
        </p>
        <h1 class="mt-3 text-3xl font-bold tracking-tight md:text-4xl">
          Chọn puzzle lịch sử để trải nghiệm
        </h1>
        <p class="mt-3 max-w-xl text-sm text-[color:var(--vn-yellow-soft)]/90 md:text-base">
          Mỗi puzzle là một bức ảnh gắn với một sự kiện lịch sử quan trọng. Hãy chọn một chủ đề để bắt đầu
          sắp xếp các mảnh ghép và khám phá câu chuyện phía sau bức hình.
        </p>
      </div>
    </div>
  </section>

  <!-- Section nội dung chính -->
  <section class="bg-background">
    <div class="mx-auto max-w-6xl px-4 py-10 md:py-14">
      <div class="grid gap-6 md:grid-cols-3">
        {(puzzles as any[]).map((puzzle) => (
          <a
            href={`/puzzle/${puzzle.id}`}
            class="group flex flex-col overflow-hidden rounded-2xl border border-[color:var(--vn-red-soft)]/15 bg-[color:var(--card)] shadow-sm transition hover:-translate-y-1 hover:border-[color:var(--vn-red-soft)]/40 hover:shadow-[0_18px_40px_rgba(139,0,0,0.2)]"
          >
            <div class="relative h-40 overflow-hidden bg-[#260000]/40">
              <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_0,rgba(245,230,99,0.35),transparent_55%),radial-gradient(circle_at_80%_120%,rgba(139,26,26,0.7),transparent_60%)]" />
              <div class="relative flex h-full items-center justify-center text-center px-4">
                <p class="text-sm font-semibold text-[color:var(--vn-yellow-soft)] group-hover:text-[color:var(--vn-yellow)]">
                  {puzzle.title}
                </p>
              </div>
            </div>
            <div class="flex flex-1 flex-col gap-3 px-4 py-4 text-sm">
              <p class="line-clamp-3 text-muted-foreground">
                {puzzle.shortDescription}
              </p>
              <div class="mt-auto flex items-center justify-between text-xs text-[color:var(--vn-red-soft)]">
                <span class="rounded-full bg-[color:var(--secondary)] px-2 py-1 font-semibold">
                  Độ khó: {puzzle.difficulty}
                </span>
                <span class="inline-flex items-center gap-1 text-[color:var(--vn-red-soft)]/85 group-hover:text-[color:var(--vn-red-soft)]">
                  Chơi ngay
                  <span class="text-[0.7rem]">→</span>
                </span>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>


